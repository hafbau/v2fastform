# Requirements: Auth UX Polish

*Generated from conversation on 2026-01-08*

## Objective
Transform the authentication experience from basic/outdated to ultra-modern with Stripe-level elegance. Fix critical UX issues where logged-out users see a confusing avatar instead of clear login actions, and implement a working forgot password flow.

## Core Requirements

### Must Have (High Priority)
- [HIGH] **Modern Auth Pages** - Redesign login, signup, and forgot password pages with ultra-modern, clean layout
- [HIGH] **Animated Background** - Soft animated gradient mesh (Linear.app style) for auth pages
- [HIGH] **Glassmorphism UI** - Apple-level glassmorphism across the entire app, not just auth cards
- [HIGH] **Logged-Out State Fix** - Replace avatar "U" with Login/Signup buttons when user is not authenticated
- [HIGH] **Fix Logout Menu** - Currently shows logout option to unauthenticated users (does nothing on click)
- [HIGH] **Forgot Password Flow** - Create complete forgot password functionality (currently 404s/doesn't exist)

### Should Have (Medium Priority)
- [MEDIUM] **Password Reset Integration** - Integrate forgot password with existing Nodemailer/SMTP setup for sending reset emails
- [MEDIUM] **Reset Password Page** - Create `/reset-password?token=xxx` page for users to set new password

### Could Have (Low Priority / Inferred)
- [LOW] **Magic Link Enhancement** - Leverage existing magic link system as alternative to password reset
- [LOW] **Dark Mode Polish** - Ensure glassmorphism and gradient mesh work well in dark mode

## Technical Constraints
- **Framework/Stack:** Next.js, React, NextAuth (not Supabase Auth), Drizzle ORM
- **Email:** Nodemailer with SMTP (magic link provider already configured)
- **Styling:** Tailwind CSS with existing design tokens
- **Brand Palette:** Deep teal primary (`oklch(0.52 0.16 175)`), warm coral accent (`oklch(0.68 0.19 38)`)
- **Fonts:** Geist Sans for UI, Geist Mono for code

## User Context
**Target Users:** Healthcare enterprise users (FastForm app)
**Primary Use Case:** First impression on auth pages, clear path to login/signup for new visitors
**User Flow:**
1. Visitor lands on app → sees Login/Signup buttons (not confusing avatar)
2. Clicks Login → beautiful modern auth page with gradient background
3. Forgot password? → working flow sends reset email → user sets new password

## Edge Cases & Considerations
- [HIGH] What happens if SMTP is not configured? Should show graceful error or hide forgot password option
- [MEDIUM] How should glassmorphism degrade on browsers that don't support backdrop-filter?
- [LOW] Mobile responsiveness for gradient mesh animation (performance consideration)

## Implicit Requirements
*Inferred from conversation context - please verify:*
- [Design] Understated elegance like Stripe, not flashy/over-designed
- [UX] Transition from avatar to login buttons should be seamless, not jarring
- [Performance] Gradient mesh animation should be subtle and not impact performance
> **Note:** These requirements were surfaced by analyzing conversation patterns.

## Success Criteria
How we know this is complete and working:
- ✓ Auth pages have animated gradient mesh background
- ✓ Cards and UI elements use glassmorphism (backdrop-blur, transparency)
- ✓ Logged-out users see Login/Signup buttons instead of avatar
- ✓ Clicking forgot password navigates to a working page (not 404)
- ✓ Users can request and complete password reset via email
- ✓ Design feels modern, clean, and Stripe-like in elegance

## Next Steps
1. Review this PRD for accuracy and completeness
2. If anything is missing or unclear, continue the conversation
3. When ready, run `/clavix:plan` to generate implementation tasks

---
*This PRD was generated by Clavix from conversational requirements gathering.*
